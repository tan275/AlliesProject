{"ast":null,"code":"import \"core-js/modules/es.array.unshift.js\";\nimport { collection, query, where, onSnapshot } from \"firebase/firestore\";\nimport { addDoc } from \"firebase/firestore\";\nimport { db } from '@/firebase/init';\nimport Navbar from '../components/Navbar.vue';\nimport BottomNav from '../components/BottomNavbar.vue';\nexport default {\n  data() {\n    return {\n      postcontent: '',\n      posts: []\n    };\n  },\n  components: {\n    Navbar,\n    BottomNav\n  },\n  methods: {\n    async addNewPost() {\n      const content = this.postcontent;\n\n      //this.items.unshift(newpost)\n      // Add a new document with a generated id.\n      const docRef = await addDoc(collection(db, \"Posts\"), {\n        content\n      });\n      console.log(\"Document written with ID: \", docRef.id);\n    }\n  },\n  mounted() {\n    const q = query(collection(db, \"Posts\"));\n    const unsubscribe = onSnapshot(q, snapshot => {\n      snapshot.docChanges().forEach(change => {\n        let postchange = change.doc.data();\n        if (change.type === \"added\") {\n          console.log(\"New post: \", postchange);\n          this.posts.unshift(postchange);\n        }\n      });\n    });\n  }\n};","map":{"version":3,"names":["collection","query","where","onSnapshot","addDoc","db","Navbar","BottomNav","data","postcontent","posts","components","methods","addNewPost","content","docRef","console","log","id","mounted","q","unsubscribe","snapshot","docChanges","forEach","change","postchange","doc","type","unshift"],"sources":["src/views/Feed.vue"],"sourcesContent":["<template>\r\n    <div class=\"body\">\r\n        <Navbar></Navbar>\r\n        <div class=\"container\">\r\n            <!-- ===========left-sidebar============= -->\r\n            <div class=\"left-sidebar\">\r\n                <div class=\"sidebar-profile-box\">\r\n                    <img src=\"@/assets/images/landingbg.png\" width=\"100%\" height=\"150px\">\r\n                    <div class=\"sidebar-profile-info\">\r\n                        <img src=\"@/assets/images/dp.jpeg\">\r\n                        <h1>Tania Muley</h1>\r\n                        <h3>20, Pune, India</h3>\r\n                        <br>\r\n                    </div>\r\n                    <div class=\"sidebar-profile-link\">\r\n                        <br>\r\n                        <br>\r\n                        <v-btn text @click=\"$router.push('/profile')\">\r\n                            <v-icon color=\"grey\">mdi-account</v-icon>\r\n                            Profile\r\n                        </v-btn>\r\n                        <br>\r\n                        <v-btn text @click=\"$router.push('/settings')\">\r\n                            <v-icon color=\"grey\">mdi-cogs</v-icon>\r\n                            Settings\r\n                        </v-btn>\r\n\r\n                    </div>\r\n                </div>\r\n                <div class=\"sidebar-activity\" id=\"sidebarActivity\">\r\n                    <div class=\"sidebar_second_col\">\r\n                        <div class=\"sidebar_title\">Action Center</div>\r\n                        <v-list>\r\n                            <v-list-item><v-btn text @click=\"$router.push('/blog')\">Mindfullness</v-btn></v-list-item>\r\n                            <v-list-item><v-btn text @click=\"$router.push('/tracker')\">Tracker</v-btn></v-list-item>\r\n\r\n                            <v-list-item><v-btn text @click=\"$router.push('/settings')\">Settings</v-btn></v-list-item>\r\n                        </v-list>\r\n\r\n                    </div>\r\n                </div>\r\n                <div class=\"sidebar-activity\" id=\"sidebarActivity\">\r\n                    <div class=\"sidebar_second_col\">\r\n                        <div class=\"sidebar_title\">More</div>\r\n                        <v-list>\r\n                            <v-list-item><v-btn text @click=\"$router.push('/mission')\">Our Mission</v-btn></v-list-item>\r\n                            <v-list-item><v-btn text @click=\"$router.push('/faq')\">FAQ's</v-btn></v-list-item>\r\n                            <v-list-item><v-btn text @click=\"$router.push('/guidelines')\">Community\r\n                                    Guidelines</v-btn></v-list-item>\r\n                            <v-list-item><v-btn text @click=\"$router.push('/terms')\">Terms</v-btn></v-list-item>\r\n                        </v-list>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <p id=\"showMoreLink\" onclick=\"toggleActivity()\">Show More <b>+</b></p>\r\n            </div>\r\n\r\n            <!-- ==========main-content============== -->\r\n            <div class=\"main-content\">\r\n                <div class=\"create-post\">\r\n                    <div class=\"create-post-input\">\r\n                        <img src=\"@/assets/images/dp.jpeg\">\r\n                        <v-text-field v-model=\"postcontent\" label=\"Your post\" required></v-text-field>\r\n                        <v-btn @click=\"addNewPost\" color=\"#FF8469\" class=\"white--text\">Post!</v-btn>\r\n                    </div>\r\n                    <div class=\"create-post-links\">\r\n\r\n                        <v-divider></v-divider>\r\n\r\n                        <v-menu v-model=\"menu\" :close-on-content-click=\"false\" :nudge-width=\"200\" offset-x>\r\n                            <template v-slot:activator=\"{ on, attrs }\">\r\n                                <v-btn color=\"white\" elevation=\"0\" v-bind=\"attrs\" v-on=\"on\">\r\n                                    Audio\r\n                                </v-btn>\r\n                            </template>\r\n\r\n                            <v-card>\r\n                                <v-list>\r\n                                    <v-list-item>Please select an audio to upload!</v-list-item>\r\n                                </v-list>\r\n                                <v-divider></v-divider>\r\n                                <v-list>\r\n                                    <v-list-item><input type=\"file\" accept=\"audio/*\" capture /></v-list-item>\r\n                                </v-list>\r\n                                <v-card-actions>\r\n                                    <v-spacer></v-spacer>\r\n                                    <v-btn text @click=\"$router.push('')\">\r\n                                        Cancel\r\n                                    </v-btn>\r\n                                    <v-btn color=\"orange\" text @click=\"$router.push('')\">\r\n                                        Post\r\n                                    </v-btn>\r\n                                </v-card-actions>\r\n                            </v-card>\r\n                        </v-menu>\r\n\r\n                        <v-menu v-model=\"menu\" :close-on-content-click=\"false\" :nudge-width=\"200\" offset-x>\r\n                            <template v-slot:activator=\"{ on, attrs }\">\r\n                                <v-btn color=\"white\" elevation=\"0\" v-bind=\"attrs\" v-on=\"on\">\r\n                                    Event\r\n                                </v-btn>\r\n                            </template>\r\n\r\n                            <v-card>\r\n                                <v-list>\r\n                                    <v-list-item>Please pick a date for your event!</v-list-item>\r\n                                </v-list>\r\n                                <v-divider></v-divider>\r\n                                <v-list>\r\n                                    <v-list-item><v-date-picker v-model=\"date\" :allowed-dates=\"allowedDates\" class=\"mt-4\"\r\n                                            min=\"2023-04-28\" no-title scrollable>\r\n                                        </v-date-picker>\r\n                                    </v-list-item>\r\n                                </v-list>\r\n                                <v-card-actions>\r\n                                    <v-spacer></v-spacer>\r\n                                    <v-btn text @click=\"$router.push('')\">\r\n                                        Cancel\r\n                                    </v-btn>\r\n                                    <v-btn color=\"orange\" text @click=\"$router.push('')\">\r\n                                        Schedule\r\n                                    </v-btn>\r\n                                </v-card-actions>\r\n                            </v-card>\r\n                        </v-menu>\r\n\r\n\r\n\r\n\r\n\r\n                    </div>\r\n                </div>\r\n                <br>\r\n\r\n                Your Posts<v-divider></v-divider>\r\n                <br>\r\n                <v-list three-line>\r\n                    <template v-for=\"(item, index) in posts\">\r\n                        <v-list-item-content>\r\n                            <div class=\"post\">\r\n                                <div class=\"post-author\">\r\n                                    <img src=\"@/assets/images/dp.jpeg\">\r\n                                    <div>\r\n                                        <h1>Tania Muley</h1>\r\n                                        <small>You</small>\r\n                                    </div>\r\n                                </div>\r\n                                <p><v-list-item-subtitle v-html=\"item.content\"></v-list-item-subtitle></p>\r\n                                <v-divider></v-divider>\r\n                                <v-expansion-panels><v-expansion-panel>\r\n                                        <v-expansion-panel-header>Comments</v-expansion-panel-header>\r\n                                        <v-expansion-panel-content>\r\n                                            <v-text-field v-model=\"title\" :rules=\"rules\" counter=\"25\"\r\n                                                label=\"Comment here!\"></v-text-field>\r\n                                        </v-expansion-panel-content>\r\n                                    </v-expansion-panel></v-expansion-panels>\r\n\r\n                            </div>\r\n                        </v-list-item-content>\r\n\r\n                    </template>\r\n                </v-list>\r\n\r\n                <br>\r\n                Your Allies' Posts<v-divider></v-divider>\r\n                <br>\r\n                <div class=\"post\">\r\n                    <div class=\"post-author\">\r\n                        <img src=\"@/assets/images/fahemdp.png\">\r\n                        <div>\r\n                            <h1>Fahem Ahmed</h1>\r\n                            <small>Friend</small>\r\n                        </div>\r\n                    </div>\r\n                    <p>\r\n                        hello there, this is my first &#x261D; post on allies!</p>\r\n                    <v-divider></v-divider>\r\n                    <v-expansion-panels><v-expansion-panel>\r\n\r\n                            <v-expansion-panel-header>Comments</v-expansion-panel-header>\r\n\r\n                            <v-expansion-panel-content>\r\n                                <v-text-field v-model=\"title\" :rules=\"rules\" counter=\"25\" hint=\"\"\r\n                                    label=\"Comment here!\"></v-text-field>\r\n                            </v-expansion-panel-content>\r\n\r\n                            <v-expansion-panel-content>\r\n                                <p><b>Gopika Sudheer:</b> Welcome &#128540;</p>\r\n                            </v-expansion-panel-content>\r\n\r\n                            <v-expansion-panel-content>\r\n                                <p><b>Tania Muley:</b> Leave pls</p>\r\n                                <v-expansion-panel-content>\r\n                                    <p><b>Krit Sinha:</b> <span style=\"color:blue\">Tania Muley</span> you should leave</p>\r\n                                </v-expansion-panel-content>\r\n                            </v-expansion-panel-content>\r\n\r\n                            <v-expansion-panel-content>\r\n                                \r\n                                    <v-list three-line>\r\n                                    <template v-for=\"(item, index) in posts\">\r\n                                        <v-list-item-content>\r\n                                            <p><b>Tania Muley:</b><v-list-item-subtitle v-html=\"item.content\"></v-list-item-subtitle></p>\r\n                                        </v-list-item-content>\r\n\r\n                                    </template>\r\n                                </v-list> \r\n                                 </p>\r\n                                \r\n                            </v-expansion-panel-content>\r\n\r\n                        </v-expansion-panel></v-expansion-panels>\r\n                    <br>\r\n                </div>\r\n\r\n                <div class=\"post\">\r\n                    <div class=\"post-author\">\r\n                        <img src=\"@/assets/images/kritdp.png\">\r\n                        <div>\r\n                            <h1>Krit Sinha</h1>\r\n                            <small>Friend</small>\r\n                        </div>\r\n                    </div>\r\n                    <p>\r\n                        <audio controls>\r\n                            <source src=\"@/assets/images/kritaudio2.ogg\" type=\"audio/ogg\">\r\n                        </audio>\r\n                    </p>\r\n\r\n                    <v-divider></v-divider>\r\n                    <v-expansion-panels><v-expansion-panel>\r\n                            <v-expansion-panel-header>Comments</v-expansion-panel-header>\r\n                            <v-expansion-panel-content>\r\n                                <v-text-field v-model=\"title\" :rules=\"rules\" counter=\"25\"\r\n                                    label=\"Comment here!\"></v-text-field>\r\n                            </v-expansion-panel-content>\r\n                        </v-expansion-panel></v-expansion-panels>\r\n                    <br>\r\n                </div>\r\n\r\n\r\n\r\n            </div>\r\n\r\n            <div class=\"profile-sidebar\">\r\n                <div class=\"sidebar-people\">\r\n                    <h3>People you may know</h3>\r\n                    <div class=\"sidebar-people-row\">\r\n                        <img src=\"@/assets/images/gopikadp.png\">\r\n                        <div>\r\n                            <h2>Gopika Sudheer</h2>\r\n                            <p>Pune, India</p>\r\n                            <a href=\"#\">Invite</a>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"sidebar-people-row\">\r\n                        <img src=\"@/assets/images/leezadp.png\">\r\n                        <div>\r\n                            <h2>Leeza Batra</h2>\r\n                            <p>Pune, India</p>\r\n                            <a href=\"#\">Invite</a>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"sidebar-people-row\">\r\n                        <img src=\"@/assets/images/aryandp.png\">\r\n                        <div>\r\n                            <h2>Aryan Narayn</h2>\r\n                            <p>Pune, India</p>\r\n                            <a href=\"#\">Invite</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { collection, query, where, onSnapshot } from \"firebase/firestore\";\r\nimport { addDoc } from \"firebase/firestore\";\r\nimport { db } from '@/firebase/init'\r\nimport Navbar from '../components/Navbar.vue'\r\nimport BottomNav from '../components/BottomNavbar.vue'\r\nexport default {\r\n    data() {\r\n        return {\r\n            postcontent: '',\r\n            posts: [\r\n\r\n            ],\r\n        }\r\n\r\n    },\r\n    components: {\r\n        Navbar,\r\n        BottomNav\r\n    },\r\n\r\n    methods: {\r\n        async addNewPost() {\r\n\r\n            const content = this.postcontent;\r\n\r\n            //this.items.unshift(newpost)\r\n            // Add a new document with a generated id.\r\n            const docRef = await addDoc(collection(db, \"Posts\"), {\r\n                content\r\n            });\r\n            console.log(\"Document written with ID: \", docRef.id);\r\n        }\r\n    },\r\n    mounted() {\r\n        const q = query(collection(db, \"Posts\"));\r\n        const unsubscribe = onSnapshot(q, (snapshot) => {\r\n            snapshot.docChanges().forEach((change) => {\r\n                let postchange = change.doc.data()\r\n                if (change.type === \"added\") {\r\n                    console.log(\"New post: \", postchange);\r\n                    this.posts.unshift(postchange)\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped >\r\n@import url('@/assets/profile.css');\r\n\r\n.body {\r\n    background-color: #f5f5f5\r\n}\r\n</style>"],"mappings":";AAwRA,SAAAA,UAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,UAAA;AACA,SAAAC,MAAA;AACA,SAAAC,EAAA;AACA,OAAAC,MAAA;AACA,OAAAC,SAAA;AACA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,KAAA;IAGA;EAEA;EACAC,UAAA;IACAL,MAAA;IACAC;EACA;EAEAK,OAAA;IACA,MAAAC,WAAA;MAEA,MAAAC,OAAA,QAAAL,WAAA;;MAEA;MACA;MACA,MAAAM,MAAA,SAAAX,MAAA,CAAAJ,UAAA,CAAAK,EAAA;QACAS;MACA;MACAE,OAAA,CAAAC,GAAA,+BAAAF,MAAA,CAAAG,EAAA;IACA;EACA;EACAC,QAAA;IACA,MAAAC,CAAA,GAAAnB,KAAA,CAAAD,UAAA,CAAAK,EAAA;IACA,MAAAgB,WAAA,GAAAlB,UAAA,CAAAiB,CAAA,EAAAE,QAAA;MACAA,QAAA,CAAAC,UAAA,GAAAC,OAAA,CAAAC,MAAA;QACA,IAAAC,UAAA,GAAAD,MAAA,CAAAE,GAAA,CAAAnB,IAAA;QACA,IAAAiB,MAAA,CAAAG,IAAA;UACAZ,OAAA,CAAAC,GAAA,eAAAS,UAAA;UACA,KAAAhB,KAAA,CAAAmB,OAAA,CAAAH,UAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}